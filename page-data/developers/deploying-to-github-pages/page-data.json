{
    "componentChunkName": "component---node-modules-confluenza-gatsby-theme-confluenza-src-templates-markdown-template-js",
    "path": "/developers/deploying-to-github-pages",
    "result": {"data":{"site":{"siteMetadata":{"title":"Confluenza Solo","editBaseUrl":"https://github.com/confluenza/solo-template/blob/master"}},"config":{"nodes":[{"tag":"developer","title":"Developers"},{"tag":"user","title":"Users"}]},"doc":{"html":"<p>Confluenza is easy to deploy. As an example, in folder <code class=\"language-text\">.github/workflows/gh-pages.yaml</code> we show how to deploy Confluenza (solo) to\nGitHub Pages. The important step is the <code class=\"language-text\">Build</code> action, which is equivalent to running:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">Â» gatsby build</code></pre></div>\n<p>This will export the site to the <code class=\"language-text\">public</code> folder, which is then used by the <code class=\"language-text\">Deploy</code> action:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">- name: Deploy ðŸš€\n  uses: JamesIves/github-pages-deploy-action@4.1.4\n  with:\n    branch: gh-pages\n    folder: public\n    CLEAN: <span class=\"token boolean\">true</span></code></pre></div>\n<p>The <code class=\"language-text\">CLEAN</code> option is expected to delete generated files but leave the <code class=\"language-text\">.nojekyll</code> file alone. CLEAN is <code class=\"language-text\">true</code> by default.</p>\n<p>In our demo, we use a custom subdomain <code class=\"language-text\">solo.confluenza.online</code>.\nBecause the <code class=\"language-text\">solo-template</code> is a project repository in the <code class=\"language-text\">Confluenza</code> organization, we add an explicit CNAME record to the DNS configuration of the <code class=\"language-text\">confluenza.online</code> domain:</p>\n<p><a id=\"figure-1\"></a></p>\n<div class=\"scrollable flex-wrap responsive\">\n<div class=\"bordered-content-800\">\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/5dbe80558b3695d6c168fe90232088f3/29007/CNAME.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 10%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAASUlEQVQI112NCwoAIQhEu/9xw/wnywgFrTA48kYda60ionL3R6paYMzc3cweLiLdTwYzdgaCMP/KzH4ENudsHxGX49jeu3Xy0AdpQZyKIMlIxQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"CNAME DNS record for the solo subdomain\" title=\"CNAME DNS record for the solo subdomain\" src=\"/static/5dbe80558b3695d6c168fe90232088f3/0a47e/CNAME.png\" srcset=\"/static/5dbe80558b3695d6c168fe90232088f3/8a4e8/CNAME.png 150w,\n/static/5dbe80558b3695d6c168fe90232088f3/5a46d/CNAME.png 300w,\n/static/5dbe80558b3695d6c168fe90232088f3/0a47e/CNAME.png 600w,\n/static/5dbe80558b3695d6c168fe90232088f3/1cfc2/CNAME.png 900w,\n/static/5dbe80558b3695d6c168fe90232088f3/c1b63/CNAME.png 1200w,\n/static/5dbe80558b3695d6c168fe90232088f3/29007/CNAME.png 1600w\" sizes=\"(max-width: 600px) 100vw, 600px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n</div>\n</div>\n<div class=\"flex-wrap responsive\">\n<p class=\"figure-title\"><b>Figure 1</b> CNAME DNS record for the <em>solo</em> subdomain</p>\n</div>\n<p>The <code class=\"language-text\">VALUE</code> points to the default organization GitHub Page URL - <code class=\"language-text\">confleunza.github.io</code> - even though we do not deploy our organization home page with GitHub (we use Vercel for that). For this to work, in the repository settings in section <code class=\"language-text\">Pages</code> we have:</p>\n<p><a id=\"figure-2\"></a></p>\n<div class=\"scrollable flex-wrap responsive\">\n<div class=\"bordered-content-800\">\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/ab61fc18750af3937b0d750525339531/29007/GitHubPages.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 52.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABrUlEQVQoz32TW3ObMBCFeUu5GBsL0AVJgASObWx3Jk460/b//y2djqRMHGecPnxzdgFJe1ZLYperm5YXp8zBFRV1JRF3rLbclSRyHzOXb6grvpCw+YrOnKGHPWo6oGY9Gu4Z0IqYt50J1P7Ze1y1CvmGoqgYiopGNhTJj57iyXL3ZIVLd9IV1n5icvmgXSqZSyV/hwUyxV2mxA0tXC64S7KxQzp1Lp2lV+TGIDcW+WhQGItMK6QdRSZZRIlP8IjkMRccSW+PIK12pNVeUVONmkUIVWjEgEaMKJlB2Q7B1v9IdqdXHH7+csvLbyh7xPn6F8+XN3TjHv18Dn3z/SrbHqta3fr1DYk/veaDq1qJ1ZaHxeu6i83ecqRlgyxQB8037QcPN7y8/sHh8ubkuAeVFlQZcD2j63cYxz1EP4MqG27Wv/e6FjNKZh9bptKAqcmJfodN06HiEt14gB6ecbLHMDa+2pLwgHdRbEXkUYV6OsEPtbfqP14TERcSgYIIrGuf3zTERGD1MX/s64YL+mnxfwp8lf4yPL4F3jYbFzTDAsIHENYHtlSHw+Ng31v+Bye5GDrxfnlnAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"GitHub Pages configuration in the solo-template repository settings\" title=\"GitHub Pages configuration in the solo-template repository settings\" src=\"/static/ab61fc18750af3937b0d750525339531/0a47e/GitHubPages.png\" srcset=\"/static/ab61fc18750af3937b0d750525339531/8a4e8/GitHubPages.png 150w,\n/static/ab61fc18750af3937b0d750525339531/5a46d/GitHubPages.png 300w,\n/static/ab61fc18750af3937b0d750525339531/0a47e/GitHubPages.png 600w,\n/static/ab61fc18750af3937b0d750525339531/1cfc2/GitHubPages.png 900w,\n/static/ab61fc18750af3937b0d750525339531/c1b63/GitHubPages.png 1200w,\n/static/ab61fc18750af3937b0d750525339531/29007/GitHubPages.png 1600w\" sizes=\"(max-width: 600px) 100vw, 600px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n</div>\n</div>\n<div class=\"flex-wrap responsive\">\n<p class=\"figure-title\"><b>Figure 2</b> GitHub Pages configuration in the solo-template repository settings</p>\n</div>\n<p>Notice that when not using a custom subdomain, the GitHub Page for the <code class=\"language-text\">solo-template</code> repository would be published by GitHub Pages at <code class=\"language-text\">confluenza.github.io/solo-template</code>. In such a case, we need to add <code class=\"language-text\">pathPrefix</code> attribute in <code class=\"language-text\">gatsby-config.js</code> file:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  siteMetadata<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    title<span class=\"token operator\">:</span> <span class=\"token string\">'Confluenza Solo'</span><span class=\"token punctuation\">,</span>\n    editBaseUrl<span class=\"token operator\">:</span> <span class=\"token string\">'https://github.com/confluenza/solo-template/blob/master'</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  pathPrefix<span class=\"token operator\">:</span> <span class=\"token string\">'/solo-template'</span><span class=\"token punctuation\">,</span>\n  plugins<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      resolve<span class=\"token operator\">:</span> <span class=\"token string\">'@confluenza/gatsby-theme-confluenza'</span><span class=\"token punctuation\">,</span>\n      options<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        mdx<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n        ignore<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">'gatsby-plugin-emotion'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">'gatsby-plugin-catch-links'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">'gatsby-plugin-root-import'</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>and then, in the <code class=\"language-text\">gh-pages.yaml</code> file, we would need to use the <code class=\"language-text\">build:prefix-paths</code> script to build the site, which is defined in <code class=\"language-text\">package.json</code> as follows:</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token property\">\"build:prefix-paths\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"gatsby build --prefix-paths\"</span></code></pre></div>\n<p>To learn more about challenges when using a custom domain with a project repository, we recommend <a href=\"https://deanattali.com/blog/multiple-github-pages-domains/\">How to set up MULTIPLE GitHub Pages websites with custom domains</a>. See also what GitHub Pages documentation says about <a href=\"https://docs.github.com/en/pages/configuring-a-custom-domain-for-your-github-pages-site/managing-a-custom-domain-for-your-github-pages-site#configuring-a-subdomain\">Managing a custom domain for your GitHub Pages site</a>.</p>\n<style scoped>\n.scrollable {\n  width: 100%;\n  overflow-x: auto;\n}\n.flex-wrap {\n  display:flex;\n  flex-flow:column;\n  justify-content:center;\n  align-items: center;\n}\n@media (max-width: 650px) {\n  .responsive {\n    align-items: flex-start;\n  }  \n}\n.figure-title {\n  font-size: 0.8em\n}\n.bordered-content-800 {\n  width: 600px;\n  border: 1px solid black;\n}\n.bordered-content-600 {\n  width: 600px;\n  border: 1px solid black;\n}\n.bordered-content-300 {\n  width: 300px;\n  border: 1px solid black;\n}\n</style>","fileAbsolutePath":"/home/runner/work/solo-template/solo-template/src/pages/developers/03-DeployingToGithubPages.md","frontmatter":{"title":"Deploying to Github Pages","content":null}},"mdx":null},"pageContext":{}},
    "staticQueryHashes": ["1136224994"]}